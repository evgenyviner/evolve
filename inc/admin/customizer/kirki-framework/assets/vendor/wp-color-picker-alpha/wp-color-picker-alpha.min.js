(function(e){var g="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAAHnlligAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHJJREFUeNpi+P///4EDBxiAGMgCCCAGFB5AADGCRBgYDh48CCRZIJS9vT2QBAggFBkmBiSAogxFBiCAoHogAKIKAlBUYTELAiAmEtABEECk20G6BOmuIl0CIMBQ/IEMkO0myiSSraaaBhZcbkUOs0HuBwDplz5uFJ3Z4gAAAABJRU5ErkJggg==",a='<button type="button" class="button wp-color-result" aria-expanded="false"><span class="wp-color-result-text"></span></button>',d='<div class="wp-picker-holder" />',b='<div class="wp-picker-container" />',f='<input type="button" class="button button-small" />',c="<label></label>",h='<span class="screen-reader-text"></span>';Color.fn.toString=function(){if(this._alpha<1){return this.toCSS("rgba",this._alpha).replace(/\s+/g,"")}var i=parseInt(this._color,10).toString(16);if(this.error){return""}if(i.length<6){i=("00000"+i).substr(-6)}return"#"+i};e.widget("wp.wpColorPicker",e.wp.wpColorPicker,{_create:function(){if(!e.support.iris){return}var i=this,j=i.element;e.extend(i.options,j.data());if(i.options.type==="hue"){return i._createHueOnly()}i.close=e.proxy(i.close,i);i.initialValue=j.val();j.addClass("wp-color-picker");if(!j.parent("label").length){j.wrap(c);i.wrappingLabelText=e(h).insertBefore(j).text(wpColorPickerL10n.defaultLabel)}i.wrappingLabel=j.parent();i.wrappingLabel.wrap(b);i.wrap=i.wrappingLabel.parent();i.toggler=e(a).insertBefore(i.wrappingLabel).css({backgroundColor:i.initialValue});if(j.data("label")){i.toggler.find(".wp-color-result-text").text(j.data("label"))}else{i.toggler.find(".wp-color-result-text").text(wpColorPickerL10n.pick)}i.pickerContainer=e(d).insertAfter(i.wrappingLabel);i.button=e(f);if(i.options.defaultColor){i.button.addClass("wp-picker-default").val(wpColorPickerL10n.defaultString).attr("aria-label",wpColorPickerL10n.defaultAriaLabel)}else{i.button.addClass("wp-picker-clear").val(wpColorPickerL10n.clear).attr("aria-label",wpColorPickerL10n.clearAriaLabel)}i.wrappingLabel.wrap('<span class="wp-picker-input-wrap hidden" />').after(i.button);i.inputWrapper=j.closest(".wp-picker-input-wrap");i.toggler.css({height:"24px",margin:"0 6px 6px 0",padding:"0 0 0 30px","font-size":"11px"});i.toggler.find(".wp-color-result-text").css({background:"#f7f7f7","border-radius":"0 2px 2px 0","border-left":"1px solid #ccc",color:"#555",display:"block","line-height":"22px",padding:"0 6px","text-align":"center"});j.iris({target:i.pickerContainer,hide:i.options.hide,width:i.options.width,mode:i.options.mode,palettes:i.options.palettes,change:function(k,l){if(i.options.alpha){i.toggler.css({"background-image":"url("+g+")",position:"relative"});if(i.toggler.find("span.color-alpha").length==0){i.toggler.append('<span class="color-alpha" />')}i.toggler.find("span.color-alpha").css({width:"30px",height:"24px",position:"absolute",top:0,left:0,"border-top-left-radius":"2px","border-bottom-left-radius":"2px",background:l.color.toString()})}else{i.toggler.css({backgroundColor:l.color.toString()})}if(e.isFunction(i.options.change)){i.options.change.call(this,k,l)}}});j.val(i.initialValue);i._addListeners();if(!i.options.hide){i.toggler.click()}},_addListeners:function(){var i=this;i.wrap.on("click.wpcolorpicker",function(j){j.stopPropagation()});i.toggler.click(function(){if(i.toggler.hasClass("wp-picker-open")){i.close()}else{i.open()}});i.element.on("change",function(j){if(e(this).val()===""||i.element.hasClass("iris-error")){if(i.options.alpha){i.toggler.find("span.color-alpha").css("backgroundColor","")}else{i.toggler.css("backgroundColor","")}if(e.isFunction(i.options.clear)){i.options.clear.call(this,j)}}});i.button.on("click",function(j){if(e(this).hasClass("wp-picker-clear")){i.element.val("");if(i.options.alpha){i.toggler.find("span.color-alpha").css("backgroundColor","")}else{i.toggler.css("backgroundColor","")}if(e.isFunction(i.options.clear)){i.options.clear.call(this,j)}}else{if(e(this).hasClass("wp-picker-default")){i.element.val(i.options.defaultColor).change()}}})}});e.widget("a8c.iris",e.a8c.iris,{_create:function(){this._super();this.options.alpha=this.element.data("alpha")||false;if(!this.element.is(":input")){this.options.alpha=false}if(typeof this.options.alpha!=="undefined"&&this.options.alpha){var p=this,k=p.element,l='<div class="iris-strip iris-slider iris-alpha-slider"><div class="iris-slider-offset iris-slider-offset-alpha"></div></div>',j=e(l).appendTo(p.picker.find(".iris-picker-inner")),q=j.find(".iris-slider-offset-alpha"),o={aContainer:j,aSlider:q};if(typeof k.data("custom-width")!=="undefined"){p.options.customWidth=parseInt(k.data("custom-width"))||0}else{p.options.customWidth=100}p.options.defaultWidth=k.width();if(p._color._alpha<1||p._color.toString().indexOf("rgb")!=-1){k.width(parseInt(p.options.defaultWidth+p.options.customWidth))}e.each(o,function(s,r){p.controls[s]=r});p.controls.square.css({"margin-right":"0"});var n=(p.picker.width()-p.controls.square.width()-20),m=(n/6),i=((n/2)-m);e.each(["aContainer","strip"],function(s,r){p.controls[r].width(i).css({"margin-left":m+"px"})});p._initControls();p._change()}},_initControls:function(){this._super();if(this.options.alpha){var j=this,i=j.controls;i.aSlider.slider({orientation:"vertical",min:0,max:100,step:1,value:parseInt(j._color._alpha*100),slide:function(k,l){j._color._alpha=parseFloat(l.value/100);j._change.apply(j,arguments)}})}},_change:function(){this._super();var q=this,i=q.element;if(this.options.alpha){var p=q.controls,j=parseInt(q._color._alpha*100),k=q._color.toRgb(),o=["rgb("+k.r+","+k.g+","+k.b+") 0%","rgba("+k.r+","+k.g+","+k.b+", 0) 100%"],r=q.options.defaultWidth,n=q.options.customWidth,m=q.picker.closest(".wp-picker-container").find(".wp-color-result");p.aContainer.css({background:"linear-gradient(to bottom, "+o.join(", ")+"), url("+g+")"});if(m.hasClass("wp-picker-open")){p.aSlider.slider("value",j);if(q._color._alpha<1){p.strip.attr("style",p.strip.attr("style").replace(/rgba\(([0-9]+,)(\s+)?([0-9]+,)(\s+)?([0-9]+)(,(\s+)?[0-9\.]+)\)/g,"rgb($1$3$5)"));i.width(parseInt(r+n))}else{i.width(r)}}}var l=i.data("reset-alpha")||false;if(l){q.picker.find(".iris-palette-container").on("click.palette",".iris-palette",function(){q._color._alpha=1;q.active="external";q._change()})}},_addInputListeners:function(j){var i=this,k=100,l=function(n){var m=new Color(j.val()),o=j.val();j.removeClass("iris-error");if(m.error){if(o!==""){j.addClass("iris-error")}}else{if(m.toString()!==i._color.toString()){if(!(n.type==="keyup"&&o.match(/^[0-9a-fA-F]{3}$/))){i._setOption("color",m.toString())}}}};j.on("change",l).on("keyup",i._debounce(l,k));if(i.options.hide){j.on("focus",function(){i.show()})}}})}(jQuery));