goog.provide("webfont.EventDispatcher");goog.require("webfont.CssClassName");webfont.EventDispatcher=function(b,a){this.domHelper_=b;this.htmlElement_=b.getLoadWindow().document.documentElement;this.callbacks_=a;this.namespace_=webfont.EventDispatcher.DEFAULT_NAMESPACE;this.cssClassName_=new webfont.CssClassName("-");this.dispatchEvents_=a.events!==false;this.setClasses_=a.classes!==false};webfont.EventDispatcher.DEFAULT_NAMESPACE="wf";webfont.EventDispatcher.LOADING="loading";webfont.EventDispatcher.ACTIVE="active";webfont.EventDispatcher.INACTIVE="inactive";webfont.EventDispatcher.FONT="font";goog.scope(function(){var a=webfont.EventDispatcher;a.prototype.dispatchLoading=function(){if(this.setClasses_){this.domHelper_.updateClassName(this.htmlElement_,[this.cssClassName_.build(this.namespace_,webfont.EventDispatcher.LOADING)])}this.dispatch_(webfont.EventDispatcher.LOADING)};a.prototype.dispatchFontLoading=function(b){if(this.setClasses_){this.domHelper_.updateClassName(this.htmlElement_,[this.cssClassName_.build(this.namespace_,b.getName(),b.getVariation().toString(),webfont.EventDispatcher.LOADING)])}this.dispatch_(webfont.EventDispatcher.FONT+webfont.EventDispatcher.LOADING,b)};a.prototype.dispatchFontActive=function(b){if(this.setClasses_){this.domHelper_.updateClassName(this.htmlElement_,[this.cssClassName_.build(this.namespace_,b.getName(),b.getVariation().toString(),webfont.EventDispatcher.ACTIVE)],[this.cssClassName_.build(this.namespace_,b.getName(),b.getVariation().toString(),webfont.EventDispatcher.LOADING),this.cssClassName_.build(this.namespace_,b.getName(),b.getVariation().toString(),webfont.EventDispatcher.INACTIVE)])}this.dispatch_(webfont.EventDispatcher.FONT+webfont.EventDispatcher.ACTIVE,b)};a.prototype.dispatchFontInactive=function(c){if(this.setClasses_){var d=this.domHelper_.hasClassName(this.htmlElement_,this.cssClassName_.build(this.namespace_,c.getName(),c.getVariation().toString(),webfont.EventDispatcher.ACTIVE)),e=[],b=[this.cssClassName_.build(this.namespace_,c.getName(),c.getVariation().toString(),webfont.EventDispatcher.LOADING)];if(!d){e.push(this.cssClassName_.build(this.namespace_,c.getName(),c.getVariation().toString(),webfont.EventDispatcher.INACTIVE))}this.domHelper_.updateClassName(this.htmlElement_,e,b)}this.dispatch_(webfont.EventDispatcher.FONT+webfont.EventDispatcher.INACTIVE,c)};a.prototype.dispatchInactive=function(){if(this.setClasses_){var c=this.domHelper_.hasClassName(this.htmlElement_,this.cssClassName_.build(this.namespace_,webfont.EventDispatcher.ACTIVE)),d=[],b=[this.cssClassName_.build(this.namespace_,webfont.EventDispatcher.LOADING)];if(!c){d.push(this.cssClassName_.build(this.namespace_,webfont.EventDispatcher.INACTIVE))}this.domHelper_.updateClassName(this.htmlElement_,d,b)}this.dispatch_(webfont.EventDispatcher.INACTIVE)};a.prototype.dispatchActive=function(){if(this.setClasses_){this.domHelper_.updateClassName(this.htmlElement_,[this.cssClassName_.build(this.namespace_,webfont.EventDispatcher.ACTIVE)],[this.cssClassName_.build(this.namespace_,webfont.EventDispatcher.LOADING),this.cssClassName_.build(this.namespace_,webfont.EventDispatcher.INACTIVE)])}this.dispatch_(webfont.EventDispatcher.ACTIVE)};a.prototype.dispatch_=function(c,b){if(this.dispatchEvents_&&this.callbacks_[c]){if(b){this.callbacks_[c](b.getName(),b.getVariation())}else{this.callbacks_[c]()}}}});